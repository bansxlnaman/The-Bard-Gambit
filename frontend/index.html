<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Playground</title>
    
    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js" defer></script>
    
    <!-- External CSS and JS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Top Navigation Bar -->
    <div class="top-bar">
        <div class="title">Chess Playground</div>
        <div class="status" id="game-status">White to move</div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Board Section -->
        <div class="board-section">
            <div class="board-container">
                <div class="board-row">
                    <!-- Left captured (by Black â†’ white pieces) -->
                    <div class="captured-col">
                        <div class="captured-pieces" id="captured-black"></div>
                    </div>

                    <!-- Chess Board -->
                    <div class="chessboard" id="board"></div>

                    <!-- Right captured (by White â†’ black pieces) -->
                    <div class="captured-col">
                        <div class="captured-pieces" id="captured-white"></div>
                    </div>
                </div>

                <!-- Clocks Row -->
                <div class="clock-row">
                    <div class="clock white">
                        <div class="clock-label">White</div>
                        <div class="clock-time" id="white-clock">05:00</div>
                    </div>
                    <div class="clock-controls">
                        <input id="time-mmss-input" class="select-control" type="text" inputmode="numeric" placeholder="00:00" value="05:00" title="Time MM:SS" />
                        <button class="btn secondary" id="toggle-clock-btn" type="button">Start Clock</button>
                    </div>
                    <div class="clock black">
                        <div class="clock-label">Black</div>
                        <div class="clock-time" id="black-clock">05:00</div>
                    </div>
                </div>

                <!-- Control Buttons -->
                <div class="controls">
                    <button class="btn" onclick="resetGame()">Reset Game</button>
                    <button class="btn secondary" onclick="undoMove()">Undo Move</button>
                    <button class="btn secondary" onclick="flipBoard()">Flip Board</button>

                    <select id="theme-select" class="select-control" title="Select theme">
                        <option value="" selected disabled>Select theme</option>
                        <option value="medieval_kingdom">Medieval Kingdom</option>
                        <option value="cosmic_battle">Cosmic Battle</option>
                        <option value="noir_detective">Noir Detective</option>
                        <option value="high_fantasy">High Fantasy</option>
                        <option value="wild_west">Wild West</option>
                    </select>
                    <button class="btn" id="generate-story-btn" type="button">Generate Story</button>
                </div>
            </div>
        </div>

        <!-- Side Panel -->
        <div class="side-panel">
            <div class="panel-header">Move History</div>
            <div class="move-history" id="move-history"></div>
            <div class="panel-header" style="margin-top: 10px;">Story</div>
            <div id="story-box" class="story-box">
                
        </div>
    </div>

    <!-- Checkmate Modal -->
    <div class="modal-overlay" id="checkmate-modal">
        <div class="modal">
            <h2>ðŸŽ‰ Checkmate!</h2>
            <p>The game has ended in checkmate.</p>
            <div class="winner" id="winner-text"></div>
            <div>
                <button class="modal-btn" onclick="closeModal()">New Game</button>
                <button class="modal-btn secondary" onclick="closeModal()">Close</button>
            </div>
        </div>
    </div>

    <!-- External JavaScript -->
    <script src="script.js?v=4" defer></script>
</body>
</html>
